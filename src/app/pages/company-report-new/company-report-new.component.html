<div id="headerfil">
  &nbsp;<br>
  <div class="btn-group float-left" role="group">
    <button type="button" (click)="rangoSeleccionado = '1T';" class="btn btn-outline-secondary" [ngClass]="{'active': '1T' == rangoSeleccionado}">1º Trimestre</button>
    <button type="button" (click)="rangoSeleccionado = '2T';" class="btn btn-outline-secondary" [ngClass]="{'active': '2T' == rangoSeleccionado}" >2º Trimestre</button>
    <button type="button" (click)="rangoSeleccionado = '3T';" class="btn btn-outline-secondary" [ngClass]="{'active': '3T' == rangoSeleccionado}" >3º Trimestre</button>
    <button type="button" (click)="rangoSeleccionado = '4T';" class="btn btn-outline-secondary" [ngClass]="{'active': '4T' == rangoSeleccionado}">4º Trimestre</button>
    <button type="button" (click)="rangoSeleccionado = 'Ano';" class="btn btn-outline-secondary" [ngClass]="{'active': 'Ano' == rangoSeleccionado}">Año Completo</button>
  </div>

  <div style="top:8px; left:100px; position:relative">
<!--       Año seleccionado: <input id="anyoseleccionado" (change)="refrescar()" [(ngModel)]="anyoseleccionado" style="width:60px">
 -->  </div>

  <div class="btn-group float-left" role="group" *ngIf="false">
    <button type="button" (click)="graficasSeleccionado = false;" class="btn btn-outline-secondary" [ngClass]="{'active': graficasSeleccionado == false}">Sólo datos</button>
    <button type="button" (click)="graficasSeleccionado = true;" class="btn btn-outline-secondary" [ngClass]="{'active': graficasSeleccionado == true}">Datos y Gráficas</button>
  </div>

  <div class="btn-group float-left" role="group" *ngIf="false">
    <a class="big-button export" (click)="exportExcel()">
        <i  alt="exportar" title="exportar"  class="material-icons">get_app</i>
        Exportar a EXCEL
    </a>
  </div>

</div>

<div id="contenedor-principal">
  <div class="card border-info mb-3" style="width:100%;">
    <div class="card-header" id="cabeceraingresos">Ingresos</div>
    <div class="card-body">
      <table class="table table-sm table-bordered text-right" id="tablaingresos">
      <thead class="text-center tablaingresos">
        <tr>
          <th scope="col">Concepto</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='1T';">Enero</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='1T';">Febrero</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='1T';">Marzo</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='2T';">Abril</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='2T';">Mayo</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='2T';">Junio</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='3T';">Julio</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='3T';">Agosto</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='3T';">Septiembre</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='4T';">Octubre</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='4T';">Noviembre</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='4T';">Diciembre</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='Ano';">1er T.</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='Ano';">2º T.</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='Ano';">3er. T.</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='Ano';">4º T.</th>
          <th scope="col" colspan="3">Total</th>
        </tr>
        <tr>
          <th scope="col"></th>
          <th scope="col" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">Prev.</th>
          <th scope="col">Real</th>
          <th scope="col">Dif.</th>
          <th scope="col" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">Prev.</th>
          <th scope="col">Real</th>
          <th scope="col">Dif.</th>
          <th scope="col" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">Prev.</th>
          <th scope="col">Real</th>
          <th scope="col">Dif.</th>
          <th scope="col" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">Prev.</th>
          <th scope="col">Real</th>
          <th scope="col">Dif.</th>
          <th scope="col" *ngIf="rangoSeleccionado =='Ano'" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">Prev.</th>
          <th scope="col" *ngIf="rangoSeleccionado =='Ano'">Real</th>
          <th scope="col" *ngIf="rangoSeleccionado =='Ano'">Dif.</th>
        </tr>
      </thead>
      <tbody class="tablaingresos">
        <tr *ngFor="let item of ingresos; let i= index" [ngStyle]="{'background-color': (i % 2 === 0 ? 'white' : '#87f2ff')}">
          <th class="text-left" scope="row">{{item[0]}}</th>
          <td *ngIf="rangoSeleccionado=='1T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[1] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T';">{{item[13] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T';">{{item[1]-item[13] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[2] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T';">{{item[14] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T';">{{item[2]-item[14] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[3] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T';">{{item[15] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T';">{{item[3]-item[15] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[4] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';">{{item[16] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';">{{item[4]-item[16] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[5] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';">{{item[17] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';">{{item[5]-item[17] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[6] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';">{{item[18] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';">{{item[6]-item[18] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[7] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';">{{item[19] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';">{{item[7]-item[19] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[8] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';">{{item[20] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';">{{item[8]-item[20] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[9] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';">{{item[21] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';">{{item[9]-item[21] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[10] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';">{{item[22] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';">{{item[10]-item[22] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[11] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';">{{item[23] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';">{{item[11]-item[23] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[12] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';">{{item[24] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';">{{item[12]-item[24] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[1]+item[2]+item[3] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';">{{item[13]+item[14]+item[15] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';">{{item[1]+item[2]+item[3]-item[13]-item[14]-item[15] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[4]+item[5]+item[6] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';">{{item[16]+item[17]+item[18] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';">{{item[4]+item[5]+item[6]-item[16]-item[17]-item[18] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[7]+item[8]+item[9] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';">{{item[19]+item[20]+item[21] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';">{{item[7]+item[8]+item[9]-item[19]-item[20]-item[21] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[10]+item[11]+item[12] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';">{{item[22]+item[23]+item[24] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';">{{item[10]+item[11]+item[12]-item[22]-item[23]-item[24] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado == 'Ano';">{{item[1]+item[2]+item[3]+item[4]+item[5]+item[6]+item[7]+item[8]+item[9]+item[10]+item[11]+item[12] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado == 'Ano';">{{item[13]+item[14]+item[15]+item[16]+item[17]+item[18]+item[19]+item[20]+item[21]+item[22]+item[23]+item[24] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado == 'Ano';">{{item[1]+item[2]+item[3]+item[4]+item[5]+item[6]+item[7]+item[8]+item[9]+item[10]+item[11]+item[12]-
                                                    item[13]-item[14]-item[15]-item[16]-item[17]-item[18]-item[19]-item[20]-item[21]-item[22]-item[23]-item[24] | currency:false }}</td>
        </tr>
        <!--Línea de total-->
        <tr id="lineatotalingresos">
          <th class="text-left" scope="row">{{totalingresos[0]}}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalingresos[1] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalingresos[13] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalingresos[1]-totalingresos[13] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalingresos[2] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalingresos[14] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalingresos[2]-totalingresos[14] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalingresos[3] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalingresos[15] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalingresos[3]-totalingresos[15] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalingresos[4] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalingresos[16] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalingresos[4]-totalingresos[16] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalingresos[5] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalingresos[17] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalingresos[5]-totalingresos[17] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalingresos[6] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalingresos[18] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalingresos[6]-totalingresos[18] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalingresos[7] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalingresos[19] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalingresos[7]-totalingresos[19] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalingresos[8] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalingresos[20] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalingresos[8]-totalingresos[20] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalingresos[9] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalingresos[21] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalingresos[9]-totalingresos[21] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalingresos[10] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalingresos[22] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalingresos[10]-totalingresos[22] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalingresos[11] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalingresos[23] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalingresos[11]-totalingresos[23] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalingresos[12] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalingresos[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalingresos[12]-totalingresos[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';">{{totalingresos[1]+totalingresos[2]+totalingresos[3] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';">{{totalingresos[13]+totalingresos[14]+totalingresos[15] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';">{{totalingresos[1]+totalingresos[2]+totalingresos[3]-totalingresos[13]-totalingresos[14]-totalingresos[15] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';">{{totalingresos[4]+totalingresos[5]+totalingresos[6] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';">{{totalingresos[16]+totalingresos[17]+totalingresos[18] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';">{{totalingresos[4]+totalingresos[5]+totalingresos[6]-totalingresos[16]-totalingresos[17]-totalingresos[18] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';">{{totalingresos[7]+totalingresos[8]+totalingresos[9] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';">{{totalingresos[19]+totalingresos[20]+totalingresos[21] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';">{{totalingresos[7]+totalingresos[8]+totalingresos[9]-totalingresos[19]-totalingresos[20]-totalingresos[21] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';">{{totalingresos[10]+totalingresos[11]+totalingresos[12] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';">{{totalingresos[22]+totalingresos[23]+totalingresos[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';">{{totalingresos[10]+totalingresos[11]+totalingresos[12]-totalingresos[22]-totalingresos[23]-totalingresos[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado == 'Ano';">{{totalingresos[1]+totalingresos[2]+totalingresos[3]+totalingresos[4]+totalingresos[5]+totalingresos[6]+totalingresos[7]+totalingresos[8]+totalingresos[9]+totalingresos[10]+totalingresos[11]+totalingresos[12] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado == 'Ano';">{{totalingresos[13]+totalingresos[14]+totalingresos[15]+totalingresos[16]+totalingresos[17]+totalingresos[18]+totalingresos[19]+totalingresos[20]+totalingresos[21]+totalingresos[22]+totalingresos[23]+totalingresos[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado == 'Ano';">{{totalingresos[1]+totalingresos[2]+totalingresos[3]+totalingresos[4]+totalingresos[5]+totalingresos[6]+totalingresos[7]+totalingresos[8]+totalingresos[9]+totalingresos[10]+totalingresos[11]+totalingresos[12]-
                                                    totalingresos[13]-totalingresos[14]-totalingresos[15]-totalingresos[16]-totalingresos[17]-totalingresos[18]-totalingresos[19]-totalingresos[20]-totalingresos[21]-totalingresos[22]-totalingresos[23]-totalingresos[24] | currency:false }}</th>
        </tr>
      </tbody>
    </table>
    </div>
  </div>

    <div class="card border-danger mb-3" style="width:100%;">
      <div class="card-header" id="cabeceragastos">Gastos</div>
      <div class="card-body">
        <table class="table table-sm table-bordered text-right" id="tablagastos">
        <thead class="text-center tablagastos">
          <tr>
          <th scope="col">Concepto</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='1T';">Enero</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='1T';">Febrero</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='1T';">Marzo</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='2T';">Abril</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='2T';">Mayo</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='2T';">Junio</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='3T';">Julio</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='3T';">Agosto</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='3T';">Septiembre</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='4T';">Octubre</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='4T';">Noviembre</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='4T';">Diciembre</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='Ano';">1er T.</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='Ano';">2º T.</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='Ano';">3er. T.</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='Ano';">4º T.</th>
          <th scope="col" colspan="3">Total</th>
        </tr>
        <tr>
          <th scope="col"></th>
          <th scope="col" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">Prev.</th>
          <th scope="col">Real</th>
          <th scope="col">Dif.</th>
          <th scope="col" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">Prev.</th>
          <th scope="col">Real</th>
          <th scope="col">Dif.</th>
          <th scope="col" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">Prev.</th>
          <th scope="col">Real</th>
          <th scope="col">Dif.</th>
          <th scope="col" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">Prev.</th>
          <th scope="col">Real</th>
          <th scope="col">Dif.</th>
          <th scope="col" *ngIf="rangoSeleccionado =='Ano'" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">Prev.</th>
          <th scope="col" *ngIf="rangoSeleccionado =='Ano'">Real</th>
          <th scope="col" *ngIf="rangoSeleccionado =='Ano'">Dif.</th>
        </tr>
      </thead>
      <tbody class="tablagastos">
        <tr *ngFor="let item of gastos; let i= index" [ngStyle]="{'background-color': (i % 2 === 0 ? 'white' : '#FFA5B5')}">
          <th class="text-left" scope="row">{{item[0]}}</th>
          <td *ngIf="rangoSeleccionado=='1T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[1] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T';">{{item[13] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T';">{{item[1]-item[13] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[2] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T';">{{item[14] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T';">{{item[2]-item[14] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[3] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T';">{{item[15] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T';">{{item[3]-item[15] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[4] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';">{{item[16] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';">{{item[4]-item[16] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[5] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';">{{item[17] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';">{{item[5]-item[17] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[6] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';">{{item[18] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T';">{{item[6]-item[18] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[7] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';">{{item[19] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';">{{item[7]-item[19] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[8] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';">{{item[20] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';">{{item[8]-item[20] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[9] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';">{{item[21] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T';">{{item[9]-item[21] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[10] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';">{{item[22] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';">{{item[10]-item[22] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[11] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';">{{item[23] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';">{{item[11]-item[23] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[12] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';">{{item[24] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T';">{{item[12]-item[24] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[1]+item[2]+item[3] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';">{{item[13]+item[14]+item[15] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';">{{item[1]+item[2]+item[3]-item[13]-item[14]-item[15] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[4]+item[5]+item[6] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';">{{item[16]+item[17]+item[18] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';">{{item[4]+item[5]+item[6]-item[16]-item[17]-item[18] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[7]+item[8]+item[9] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';">{{item[19]+item[20]+item[21] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';">{{item[7]+item[8]+item[9]-item[19]-item[20]-item[21] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[10]+item[11]+item[12] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';">{{item[22]+item[23]+item[24] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';">{{item[10]+item[11]+item[12]-item[22]-item[23]-item[24] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado == 'Ano';">{{item[1]+item[2]+item[3]+item[4]+item[5]+item[6]+item[7]+item[8]+item[9]+item[10]+item[11]+item[12] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado == 'Ano';">{{item[13]+item[14]+item[15]+item[16]+item[17]+item[18]+item[19]+item[20]+item[21]+item[22]+item[23]+item[24] | currency:false }}</td>
          <td *ngIf="rangoSeleccionado == 'Ano';">{{item[1]+item[2]+item[3]+item[4]+item[5]+item[6]+item[7]+item[8]+item[9]+item[10]+item[11]+item[12]-
                                                    item[13]-item[14]-item[15]-item[16]-item[17]-item[18]-item[19]-item[20]-item[21]-item[22]-item[23]-item[24] | currency:false }}</td>
        </tr>
        <!--Línea de total-->
        <tr id="lineatotalgastos">
          <th class="text-left" scope="row">{{totalgastos[0]}}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalgastos[1] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalgastos[13] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalgastos[1]-totalgastos[13] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalgastos[2] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalgastos[14] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalgastos[2]-totalgastos[14] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalgastos[3] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalgastos[15] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalgastos[3]-totalgastos[15] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalgastos[4] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalgastos[16] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalgastos[4]-totalgastos[16] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalgastos[5] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalgastos[17] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalgastos[5]-totalgastos[17] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalgastos[6] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalgastos[18] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalgastos[6]-totalgastos[18] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalgastos[7] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalgastos[19] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalgastos[7]-totalgastos[19] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalgastos[8] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalgastos[20] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalgastos[8]-totalgastos[20] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalgastos[9] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalgastos[21] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalgastos[9]-totalgastos[21] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalgastos[10] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalgastos[22] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalgastos[10]-totalgastos[22] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalgastos[11] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalgastos[23] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalgastos[11]-totalgastos[23] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalgastos[12] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalgastos[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalgastos[12]-totalgastos[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';">{{totalgastos[1]+totalgastos[2]+totalgastos[3] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';">{{totalgastos[13]+totalgastos[14]+totalgastos[15] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';">{{totalgastos[1]+totalgastos[2]+totalgastos[3]-totalgastos[13]-totalgastos[14]-totalgastos[15] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';">{{totalgastos[4]+totalgastos[5]+totalgastos[6] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';">{{totalgastos[16]+totalgastos[17]+totalgastos[18] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';">{{totalgastos[4]+totalgastos[5]+totalgastos[6]-totalgastos[16]-totalgastos[17]-totalgastos[18] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';">{{totalgastos[7]+totalgastos[8]+totalgastos[9] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';">{{totalgastos[19]+totalgastos[20]+totalgastos[21] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';">{{totalgastos[7]+totalgastos[8]+totalgastos[9]-totalgastos[19]-totalgastos[20]-totalgastos[21] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';">{{totalgastos[10]+totalgastos[11]+totalgastos[12] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';">{{totalgastos[22]+totalgastos[23]+totalgastos[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';">{{totalgastos[10]+totalgastos[11]+totalgastos[12]-totalgastos[22]-totalgastos[23]-totalgastos[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado == 'Ano';">{{totalgastos[1]+totalgastos[2]+totalgastos[3]+totalgastos[4]+totalgastos[5]+totalgastos[6]+totalgastos[7]+totalgastos[8]+totalgastos[9]+totalgastos[10]+totalgastos[11]+totalgastos[12] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado == 'Ano';">{{totalgastos[13]+totalgastos[14]+totalgastos[15]+totalgastos[16]+totalgastos[17]+totalgastos[18]+totalgastos[19]+totalgastos[20]+totalgastos[21]+totalgastos[22]+totalgastos[23]+totalgastos[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado == 'Ano';">{{totalgastos[1]+totalgastos[2]+totalgastos[3]+totalgastos[4]+totalgastos[5]+totalgastos[6]+totalgastos[7]+totalgastos[8]+totalgastos[9]+totalgastos[10]+totalgastos[11]+totalgastos[12]-
                                                    totalgastos[13]-totalgastos[14]-totalgastos[15]-totalgastos[16]-totalgastos[17]-totalgastos[18]-totalgastos[19]-totalgastos[20]-totalgastos[21]-totalgastos[22]-totalgastos[23]-totalgastos[24] | currency:false }}</th>
        </tr>
      </tbody>
    </table>
    </div>
  </div>

  <div class="card border-success mb-3" style="width:100%;">
    <div class="card-header" id="cabecerabalance">Balance</div>
    <div class="card-body">
      <table class="table table-sm table-bordered text-right" id="tablabalance">
      <thead class="text-center tablabalance">
        <tr>
          <th scope="col">Concepto</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='1T';">Enero</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='1T';">Febrero</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='1T';">Marzo</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='2T';">Abril</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='2T';">Mayo</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='2T';">Junio</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='3T';">Julio</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='3T';">Agosto</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='3T';">Septiembre</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='4T';">Octubre</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='4T';">Noviembre</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='4T';">Diciembre</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='Ano';">1er T.</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='Ano';">2º T.</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='Ano';">3er. T.</th>
          <th scope="col" colspan="3" *ngIf="rangoSeleccionado=='Ano';">4º T.</th>
          <th scope="col" colspan="3">Total</th>
        </tr>
        <tr>
          <th scope="col"></th>
          <th scope="col" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">Prev.</th>
          <th scope="col">Real</th>
          <th scope="col">Dif.</th>
          <th scope="col" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">Prev.</th>
          <th scope="col">Real</th>
          <th scope="col">Dif.</th>
          <th scope="col" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">Prev.</th>
          <th scope="col">Real</th>
          <th scope="col">Dif.</th>
          <th scope="col" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">Prev.</th>
          <th scope="col">Real</th>
          <th scope="col">Dif.</th>
          <th scope="col" *ngIf="rangoSeleccionado =='Ano'" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">Prev.</th>
          <th scope="col" *ngIf="rangoSeleccionado =='Ano'">Real</th>
          <th scope="col" *ngIf="rangoSeleccionado =='Ano'">Dif.</th>
        </tr>
      </thead>
      <tbody class="tablabalance">
        <tr *ngFor="let item of balance; let i= index" [ngStyle]="{'background-color': (i % 2 === 0 ? 'white' : '#98FFB5')}">
          <th class="text-left" scope="row">{{item[0]}}</th>
          <th *ngIf="rangoSeleccionado=='1T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[1] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{item[13] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{item[1]-item[13] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[2] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{item[14] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{item[2]-item[14] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[3] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{item[15] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{item[3]-item[15] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[4] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{item[16] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{item[4]-item[16] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[5] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{item[17] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{item[5]-item[17] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[6] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{item[18] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{item[6]-item[18] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[7] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{item[19] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{item[7]-item[19] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[8] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{item[20] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{item[8]-item[20] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[9] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{item[21] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{item[9]-item[21] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[10] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{item[22] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{item[10]-item[22] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[11] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{item[23] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{item[11]-item[23] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[12] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{item[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{item[12]-item[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[1]+item[2]+item[3] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';">{{item[13]+item[14]+item[15] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';">{{item[1]+item[2]+item[3]-item[13]-item[14]-item[15] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[4]+item[5]+item[6] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';">{{item[16]+item[17]+item[18] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';">{{item[4]+item[5]+item[6]-item[16]-item[17]-item[18] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[7]+item[8]+item[9] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';">{{item[19]+item[20]+item[21] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';">{{item[7]+item[8]+item[9]-item[19]-item[20]-item[21] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';" data-toggle="modal" data-target=".bd-presupuestos-modal-lg">{{item[10]+item[11]+item[12] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';">{{item[22]+item[23]+item[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';">{{item[10]+item[11]+item[12]-item[22]-item[23]-item[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado == 'Ano';">{{item[1]+item[2]+item[3]+item[4]+item[5]+item[6]+item[7]+item[8]+item[9]+item[10]+item[11]+item[12] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado == 'Ano';">{{item[13]+item[14]+item[15]+item[16]+item[17]+item[18]+item[19]+item[20]+item[21]+item[22]+item[23]+item[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado == 'Ano';">{{item[1]+item[2]+item[3]+item[4]+item[5]+item[6]+item[7]+item[8]+item[9]+item[10]+item[11]+item[12]-
                                                    item[13]-item[14]-item[15]-item[16]-item[17]-item[18]-item[19]-item[20]-item[21]-item[22]-item[23]-item[24] | currency:false }}</th>
        </tr>
        <!--Línea de total-->
        <tr id="lineatotalbalance">
          <th class="text-left" scope="row">{{totalbalance[0]}}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalbalance[1] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalbalance[13] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalbalance[1]-totalbalance[13] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalbalance[2] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalbalance[14] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalbalance[2]-totalbalance[14] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalbalance[3] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalbalance[15] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T';">{{totalbalance[3]-totalbalance[15] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalbalance[4] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalbalance[16] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalbalance[4]-totalbalance[16] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalbalance[5] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalbalance[17] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalbalance[5]-totalbalance[17] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalbalance[6] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalbalance[18] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T';">{{totalbalance[6]-totalbalance[18] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalbalance[7] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalbalance[19] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalbalance[7]-totalbalance[19] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalbalance[8] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalbalance[20] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalbalance[8]-totalbalance[20] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalbalance[9] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalbalance[21] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T';">{{totalbalance[9]-totalbalance[21] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalbalance[10] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalbalance[22] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalbalance[10]-totalbalance[22] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalbalance[11] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalbalance[23] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalbalance[11]-totalbalance[23] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalbalance[12] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalbalance[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T';">{{totalbalance[12]-totalbalance[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';">{{totalbalance[1]+totalbalance[2]+totalbalance[3] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';">{{totalbalance[13]+totalbalance[14]+totalbalance[15] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='1T' || rangoSeleccionado == 'Ano';">{{totalbalance[1]+totalbalance[2]+totalbalance[3]-totalbalance[13]-totalbalance[14]-totalbalance[15] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';">{{totalbalance[4]+totalbalance[5]+totalbalance[6] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';">{{totalbalance[16]+totalbalance[17]+totalbalance[18] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='2T' || rangoSeleccionado == 'Ano';">{{totalbalance[4]+totalbalance[5]+totalbalance[6]-totalbalance[16]-totalbalance[17]-totalbalance[18] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';">{{totalbalance[7]+totalbalance[8]+totalbalance[9] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';">{{totalbalance[19]+totalbalance[20]+totalbalance[21] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='3T' || rangoSeleccionado == 'Ano';">{{totalbalance[7]+totalbalance[8]+totalbalance[9]-totalbalance[19]-totalbalance[20]-totalbalance[21] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';">{{totalbalance[10]+totalbalance[11]+totalbalance[12] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';">{{totalbalance[22]+totalbalance[23]+totalbalance[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado=='4T' || rangoSeleccionado == 'Ano';">{{totalbalance[10]+totalbalance[11]+totalbalance[12]-totalbalance[22]-totalbalance[23]-totalbalance[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado == 'Ano';">{{totalbalance[1]+totalbalance[2]+totalbalance[3]+totalbalance[4]+totalbalance[5]+totalbalance[6]+totalbalance[7]+totalbalance[8]+totalbalance[9]+totalbalance[10]+totalbalance[11]+totalbalance[12] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado == 'Ano';">{{totalbalance[13]+totalbalance[14]+totalbalance[15]+totalbalance[16]+totalbalance[17]+totalbalance[18]+totalbalance[19]+totalbalance[20]+totalbalance[21]+totalbalance[22]+totalbalance[23]+totalbalance[24] | currency:false }}</th>
          <th *ngIf="rangoSeleccionado == 'Ano';">{{totalbalance[1]+totalbalance[2]+totalbalance[3]+totalbalance[4]+totalbalance[5]+totalbalance[6]+totalbalance[7]+totalbalance[8]+totalbalance[9]+totalbalance[10]+totalbalance[11]+totalbalance[12]-
                                                    totalbalance[13]-totalbalance[14]-totalbalance[15]-totalbalance[16]-totalbalance[17]-totalbalance[18]-totalbalance[19]-totalbalance[20]-totalbalance[21]-totalbalance[22]-totalbalance[23]-totalbalance[24] | currency:false }}</th>
        </tr>
      </tbody>
    </table>
    </div>
  </div>
</div>
 
  
  <!-- Modal -->
<div class="modal fade bd-presupuestos-modal-lg" tabindex="-1" role="dialog" aria-labelledby="presupuestosModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title text-center" id="presupuestosModalLabel">Presupuestos Detallados</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">     
          <div style="width:auto"> 
            <app-fixed-cost-new></app-fixed-cost-new>
          </div>    
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="refrescar(0)">Cerrar</button>
        </div>
      </div>
    </div>
  </div>
